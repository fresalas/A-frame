<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Primera Escena VR</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
</head>
<body>
    <!-- Selector de color para el cubo -->
    <div style="position: absolute; top: 10px; left: 10px; z-index: 1; background: rgba(255,255,255,0.8); padding: 5px; border-radius: 4px;">
        <label for="colorPicker" style="font-family: sans-serif; font-size: 14px; color: #000;">Selecciona color:</label>
        <input type="color" id="colorPicker" value="#ff0000" />
    </div>

    <a-scene background="color: #ECECEC">
        <!-- Cielo con nubes -->
        <a-sky src="cielo.jpg" rotation="0 -90 0"></a-sky>
        <!-- Plano de piso -->
        <a-circle position="0 0 0" rotation="-90 0 0" radius="20" segments="64"
                  material="src: pasto.jpg; repeat: 2 3"></a-circle>

        <!-- Árboles alrededor del escenario -->
        <a-entity id="trees">
            <!-- Árbol 1 -->
            <a-entity position="-5 0.5 -5">
                <a-cylinder height="2" radius="0.2" color="#8B4513"></a-cylinder>
                <a-cone height="3" radius-bottom="1" color="#228B22" position="0 1.5 0"></a-cone>
            </a-entity>
            <!-- Árbol 2 -->
            <a-entity position="5 0.5 -5">
                <a-cylinder height="2" radius="0.2" color="#8B4513"></a-cylinder>
                <a-cone height="3" radius-bottom="1" color="#228B22" position="0 1.5 0"></a-cone>
            </a-entity>
            <!-- Árbol 3 -->
            <a-entity position="0 0.5 -10">
                <a-cylinder height="2" radius="0.2" color="#8B4513"></a-cylinder>
                <a-cone height="3" radius-bottom="1" color="#228B22" position="0 1.5 0"></a-cone>
            </a-entity>
        </a-entity>

        <!-- Un cubo -->
        <a-box id="colorBox"
            position="-3.5 1.0 2.0" 
            rotation="0 0 0" 
            scale="1 1 1"
            color="rgba(255,0,13,0.8)"
        >
        
        <!-- Modelo 3D: casco Helmet -->
        <a-entity
            position="-0 1.0 0"
            scale="0.6 0.6 0.6"
            gltf-model="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/DamagedHelmet/glTF-Binary/DamagedHelmet.glb">
        </a-entity>
    
    </a-box>
    
        <!-- Modelo 3D animado: Fox -->
        <a-entity
            position="4 0 1"
            scale="0.01 0.01 0.01"
            animation-mixer
            gltf-model="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Fox/glTF-Binary/Fox.glb">
        </a-entity>
        
        
        
        <!-- Iluminación mejorada -->
        <a-entity light="type: ambient; color: #BBB; intensity: 0.8"></a-entity>
        <a-entity light="type: directional; position: 0 1 1; intensity: 0.8"></a-entity>
        <a-entity light="type: point; position: 2 2 2; intensity: 0.5"></a-entity>
        
        <!-- Cámara -->
        <a-entity camera look-controls wasd-controls position="0 1.6 5"></a-entity>

        <!-- Imagen -->
        <a-image src="image.png" position="0.0 1.5 3.0" width="2" height="2"></a-image>
    </a-scene>

    <!-- Script para enlazar selector de color con el cubo -->
    <script>
      const picker = document.getElementById('colorPicker');
      const box = document.getElementById('colorBox');
      picker.addEventListener('input', event => {
        box.setAttribute('color', event.target.value);
      });
    </script>
</body>
</html>